<div class="cart_section">
  <div class="container-fluid">
    <div class="row">
      <div class="col-lg-10 offset-lg-1">
        <div class="cart_container">
          <!-- Cart Title Section -->
          <div class="cart_title">Shopping Cart<small> ({{ productItems.length }} items in your cart) </small></div>

          <!-- Cart Items Section -->
          <div class="cart_items">
            <ul class="cart_list">
              <!-- Titles -->
              <li class="cart_item clearfix">
                <div class="cart_item_info d-flex flex-md-row flex-column justify-content-between">
                  <div class="cart_item_name cart_info_col">
                    <div class="cart_item_title">Name</div>
                  </div>
                  <div class="cart_item_quantity cart_info_col" >
                    <div class="cart_item_title" >Quantity</div>
                  </div>
                  <div class="cart_item_price cart_info_col" >
                    <div class="cart_item_title" >Price</div>
                  </div>
                  <div class="cart_item_total cart_info_col" >
                    <div class="cart_item_title" >Total</div>
                  </div>
                </div>
              </li>

              <!-- Product Items -->
              <li class="cart_item clearfix" *ngFor="let productItem of productItems">
                <div class="cart_item_image"><img [src]="'data:image/png;base64,' + productItem.product?.image?.data" alt="productItem.product?.image?.name"></div>
                <div class="cart_item_info d-flex flex-md-row flex-column justify-content-between">
                  <div class="cart_item_name cart_info_col" style="width: 40%;"> <!-- Width set to 40% -->
                    <div class="cart_item_text">{{productItem.product?.name}}</div>
                  </div>
                  <div class="cart_item_quantity cart_info_col" style="width: 20%;">
                    <input  class="quantity-input" type="number" [(ngModel)]="productItem.quantity" (change)="handleQuantityChange(productItem.id, productItem.quantity)" min="1">
                  </div>
                  <div class="cart_item_price cart_info_col" style="width: 20%;"> <!-- Width set to 20% -->
                    <div class="cart_item_text">{{productItem.price}}</div>
                  </div>
                  <div class="cart_item_total cart_info_col" style="width: 20%;"> <!-- Width set to 20% -->
                    <div class="cart_item_text">{{ productItem.price * productItem.quantity }} DH</div>
                  </div>
                  <div>
                    <div class="btn btn-danger" (click)="handeleDelete(productItem.id)"><i class="bi bi-trash"></i></div>
                  </div>
                </div>
              </li>
            </ul>
          </div>

          <!-- Order Total Section -->
          <div class="order_total">
            <div class="order_total_content text-md-right">
              <div class="order_total_title">Order Total:</div>
              <div class="order_total_amount">{{ cartTotal }} DH</div>
            </div>
          </div>

          <!-- Cart Buttons Section -->

            <!-- Other content of the page -->

            <div class="d-flex justify-content-between p-3 bg-light ">
              <button class="btn btn-secondary" (click)="handleContinueShopping()">Continue Shopping</button>
              <button  class="btn btn-warning" (click)="handleCheckout()">Checkout</button>
            </div>


        </div>
      </div>
    </div>
  </div>
</div>
